import{a as b,b as w,c as D,d as G,e as p,f as T,g as B,h as O,i as P,j as V,k as R,l as q,m as A,n as k,o as z,p as H,q as J,r as K,s as Q,t as U,u as W}from"./chunk-X5FCHDAV.js";import{h as I}from"./chunk-XL2J5XHD.js";import"./chunk-ZSSD5RUB.js";import{Cb as n,Ga as u,Gb as E,Ha as m,Sa as f,Ta as C,W as d,Xa as g,cc as L,ec as v,gb as l,gc as j,ha as x,ia as N,jb as r,kb as o,lb as a,pb as y,rb as _,sb as c}from"./chunk-YC4G6TDC.js";function et(e,i){if(e&1&&a(0,"app-table",1),e&2){let t=c();l("data",t.dataSource)("displayedColumn",t.modelList)}}var S=class e{constructor(i,t){this.contactService=i;this.modelContact=t}dataSource=[];modelList=[];loaded=!1;data=[];ngOnInit(){this.modelList=this.modelContact.getListContact().listContact,this.contactService.getList().then(i=>{this.dataSource=i,this.loaded=!0,console.log(this.dataSource)})}static \u0275fac=function(t){return new(t||e)(m(b),m(w))};static \u0275cmp=f({type:e,selectors:[["app-list-contact"]],inputs:{data:"data"},standalone:!1,decls:3,vars:1,consts:[[3,"data","displayedColumn",4,"ngIf"],[3,"data","displayedColumn"]],template:function(t,s){t&1&&(r(0,"p"),n(1,"list-contact works!"),o(),g(2,et,1,2,"app-table",0)),t&2&&(u(2),l("ngIf",s.loaded))},dependencies:[v,D],encapsulation:2})};var ot=e=>({"is-invalid":e});function it(e,i){if(e&1){let t=y();r(0,"form",1),_("ngSubmit",function(){x(t);let Y=c();return N(Y.onSubmit())}),r(1,"div")(2,"mat-form-field",2)(3,"mat-label"),n(4,"Nom"),o(),a(5,"input",3),o(),r(6,"mat-form-field",2)(7,"mat-label"),n(8,"Pr\xE9nom"),o(),a(9,"input",4),r(10,"mat-error"),n(11," Prenom invalid"),o()(),r(12,"mat-form-field",2)(13,"mat-label"),n(14,"Adresse"),o(),a(15,"input",5),o(),r(16,"mat-form-field",6)(17,"mat-label"),n(18,"Tel"),o(),a(19,"input",7),o(),r(20,"mat-form-field",2)(21,"mat-label"),n(22,"Email"),o(),a(23,"input",8),o(),r(24,"button",9),n(25,"Envoie Formulaire "),o()()()}if(e&2){let t=c();l("formGroup",t.registerForm),u(16),l("ngClass",E(2,ot,t.submitted&&t.f.tel.errors))}}var F=class e{constructor(i,t,s){this.formBuilder=i;this.contactService=t;this.contactLocalService=s}registerForm;submitted=!1;loading=!1;ngOnInit(){this.registerForm=this.formBuilder.group({nom:[""],prenom:["",p.required],adresse:["",p.required],tel:["",p.required],email:["",p.required]}),this.loading=!0}get f(){return this.registerForm.controls}onSubmit(){if(this.submitted=!0,this.registerForm.invalid)console.log("error",this.registerForm.invalid);else{console.log(this.registerForm.controls),console.log(this.registerForm.controls.adresse.value);let i=[{nom:this.registerForm.controls.nom.value,prenom:this.registerForm.controls.prenom.value,adresse:this.registerForm.controls.adresse.value,email:this.registerForm.controls.email.value,tel:this.registerForm.controls.tel.value}];this.contactService.createPost(this.registerForm.value),this.contactLocalService.createPost(this.registerForm.value,"/create")}}static \u0275fac=function(t){return new(t||e)(m(R),m(b),m(A))};static \u0275cmp=f({type:e,selectors:[["app-create-contact"]],standalone:!1,decls:1,vars:1,consts:[["class","classForm",3,"formGroup","ngSubmit",4,"ngIf"],[1,"classForm",3,"ngSubmit","formGroup"],[1,"example-form-field"],["formControlName","nom","matInput",""],["formControlName","prenom","matInput",""],["formControlName","adresse","matInput",""],[1,"example-form-field",3,"ngClass"],["formControlName","tel","matInput",""],["formControlName","email","matInput",""],["type","submit"]],template:function(t,s){t&1&&g(0,it,26,4,"form",0),t&2&&l("ngIf",s.loading)},dependencies:[L,v,O,G,T,B,P,V,K,H,k,z],encapsulation:2})};var rt=[{path:"",component:S},{path:"create",component:F}],h=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=C({type:e});static \u0275inj=d({imports:[I.forChild(rt),I]})};var X=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=C({type:e});static \u0275inj=d({imports:[j,h,U,W,q,Q,J]})};export{X as ContactModule};
